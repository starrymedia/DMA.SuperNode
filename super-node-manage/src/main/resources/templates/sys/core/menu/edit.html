<!DOCTYPE html>
<html>
<head>
    <%include("/meta.html"){}%>
    <%include("/header.html"){}%>
</head>
<body>
<div class="layui-fluid">

    <form class="layui-form" id="edit_form" isLoad="1" method="post" loadUrl="/sys/core/menu/findById.json">
        <input type="hidden" name="id"/>
        <input type="hidden" name="icon"/>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="name">名称</label>
            <div class="layui-input-block">
                <input type="text" name="name" data-sw-translate="please@input" required="" lay-verType="tips"
                       lay-verify="required" placeholder="请输入名称" autocomplete="off" class="layui-input"/>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">权限代码</label>
            <div class="layui-input-block">
                <input type="text" name="permission" required="" lay-verType="tips" lay-verify="required"
                       data-sw-translate="please@input" placeholder="请输入名称" autocomplete="off" class="layui-input"/>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">地址</label>
            <div class="layui-input-block">
                <input type="text" name="url" required="" lay-verType="tips" lay-verify=""
                       data-sw-translate="please@input" placeholder="请输入名称" autocomplete="off" class="layui-input"/>
            </div>
        </div>
        <input type="hidden" name="icon"/>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="icon@picker">图标</label>
            <div class="layui-input-block">
                <input type="text" id="iconPicker" lay-filter="iconPicker" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="ment@parent">父级</label>
            <div class="layui-input-inline">
                <select name="parentId" lay-verify="required" lay-verType="tips" class="fsSelect" dict="menu"
                        addNull="1">
                </select>
            </div>
        </div>


        <hr/>
        <div class="layui-form-item" style="text-align: center;">
            <button class="layui-btn" lay-submit="" lay-filter="edit" url="/sys/core/menu/edit.do"><i class="layui-icon">&#xe642;</i>
                <span data-sw-translate="btn@edit">编辑</span></button>
            <button type="button" class="layui-btn layui-btn-primary" function="close" data-sw-translate="btn@close">
                关闭
            </button>
        </div>

    </form>

</div>
<script type="text/javascript">
    layui.use(['iconPicker'], function () {
        var iconPicker = layui.iconPicker;

        iconPicker.render({
            // 选择器，推荐使用input
            elem: '#iconPicker',
            // 数据类型：fontClass/unicode，推荐使用fontClass
            type: 'fontClass',
            // 是否开启搜索：true/false
            search: false,
            // 点击回调
            click: function (data) {
                console.log(data);
                $(" input[ name='icon'] ").val(data.icon);
            }
        });
        setTimeout(function () {
            console.log($("input[ name='icon']").val());
            /**
             * 选中图标 （常用于更新时默认选中图标）
             * @param filter lay-filter
             * @param iconName 图标名称，自动识别fontClass/unicode
             */
            iconPicker.checkIcon('iconPicker', $("input[ name='icon']").val());
        }, 100);


    });
</script>
    <%include("/footer.html"){}%>
</body>
</html>

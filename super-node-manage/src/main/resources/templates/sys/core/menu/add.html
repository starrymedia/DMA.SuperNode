<!DOCTYPE html>
<html>
<head>
    <%include("/meta.html"){}%>
    <%include("/header.html"){}%>
</head>
<body>
<div class="layui-fluid">

    <form class="layui-form">
        <input type="hidden" name="icon"/>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="name">名称</label>
            <div class="layui-input-block">
                <input type="text" name="name" data-sw-translate="please@input" required="" lay-verType="tips"
                       lay-verify="required" placeholder="请输入名称" autocomplete="off" class="layui-input"/>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="permission@code">权限代码</label>
            <div class="layui-input-block">
                <input type="text" name="permission" data-sw-translate="please@input" required="" lay-verType="tips"
                       lay-verify="required" placeholder="请输入名称" autocomplete="off" class="layui-input"/>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="url">地址</label>
            <div class="layui-input-block">
                <input type="text" name="url" required="" data-sw-translate="please@input" lay-verType="tips"
                       lay-verify="" data-sw-translate="please@input" placeholder="请输入名称" autocomplete="off"
                       class="layui-input"/>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="icon@picker">图标</label>
            <div class="layui-input-block">
                <input type="text" id="iconPicker" lay-filter="iconPicker" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" data-sw-translate="ment@parent">父级</label>
            <div class="layui-input-inline">
                <select name="parentId" lay-verify="required" lay-verType="tips" class="fsSelect" dict="menu"
                        addNull="1" data-sw-translate="choose">
                </select>
            </div>
        </div>

        <hr/>
        <div class="layui-form-item" style="text-align: center;">
            <button class="layui-btn" lay-submit="" lay-filter="save" url="/sys/core/menu/add.do">新增</button>
            <button type="button" class="layui-btn layui-btn-primary" function="close">关闭</button>
        </div>
    </form>
</div>
<script type="text/javascript">
    layui.use(['iconPicker'], function () {
        var $ = layui.jquery,
            iconPicker = layui.iconPicker;

        iconPicker.render({
            // 选择器，推荐使用input
            elem: '#iconPicker',
            // 数据类型：fontClass/unicode，推荐使用fontClass
            type: 'fontClass',
            // 是否开启搜索：true/false
            search: false,
            // 点击回调
            click: function (data) {
                console.log(data);
                $(" input[ name='icon'] ").val(data.icon);
            }
        });

        /**
         * 选中图标 （常用于更新时默认选中图标）
         * @param filter lay-filter
         * @param iconName 图标名称，自动识别fontClass/unicode
         */
        iconPicker.checkIcon('iconPicker', '');

    });
</script>
    <%include("/footer.html"){}%>
</body>
</html>
